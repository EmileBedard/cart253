<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>

  <title>Variation Jam by Emile Bedard</title>

  <!-- CSS stylesheet(s) -->
  <link rel="stylesheet" type="text/css" href="css/style.css" />

  <!-- Library script(s) -->

  <!-- p5.min.js is the main p5 library -->
  <script src="js/libraries/p5.min.js"></script>
  <!-- p5.sound.min.js allows us to use sound -->
  <script src="js/libraries/p5.sound.min.js"></script>

  <!-- My script(s) -->

  <script src="js/variations/picasso-variation.js"></script>
  <script src="js/variations/pollock-variation.js"></script>
  <script src="js/variations/vangogh-variation.js"></script>
  <script src="js/variations/malevitch-variation.js"></script>
  <script src="js/variations/calder-variation.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/script.js"></script>
</head>

<!-- Minimal buttons -->
<div id="buttons">
  <button data-key="86">V</button>
  <button data-key="80">P</button>
  <button data-key="83">S</button>
  <button data-key="77">M</button>
  <button data-key="78">N</button>
  <button data-key="71">G</button>
  <button data-key="67">C</button>
  <button data-key="13">Enter</button>
</div>

<script>
  // simulate keypress for your existing p5 key handlers
  function simulateKey(keyCodeNumber) {
    if (typeof keyPressed === "function") {
      keyPressed({ keyCode: keyCodeNumber });
    } else {
      window.dispatchEvent(
        new KeyboardEvent("keydown", { keyCode: keyCodeNumber, which: keyCodeNumber })
      );
    }
  }

  // connect all buttons
  document.querySelectorAll("button[data-key]").forEach(btn => {
    const key = Number(btn.dataset.key);
    btn.addEventListener("click", () => simulateKey(key));
    btn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      simulateKey(key);
    });
  });
</script>

</body>

</html>